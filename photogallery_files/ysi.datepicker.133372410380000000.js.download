!function(e,t){var i=t();e.ysi=e.ysi||{},e.ysi.datepicker=e.ysi.datepicker||{},e.ysi.datepicker.init=i.init,e.ysi.datepicker.set=i.set}(this,function(){let e=[];return{init:function(t,a){let n="/common/js/ysi.flatpickr.js",d=window.matchMedia("(max-width: 576px)"),l=window.matchMedia("(max-width: 768px)");if(ysi.datepicker.queue=ysi.datepicker.queue||[],function(e){ysi.datepicker.queue.push(e)}([t,a]),t&&"BUTTON"===t.nodeName){let e=t,i=document.createElement("div");i.className="input-group";let a=document.createElement("input");a.style.cssText="visibility:hidden;width:1px;height:1px;position:absolute;padding:0;",i.appendChild(a),e.parentNode.insertBefore(i,e),i.appendChild(e),t=a}function o(){ysi.datepicker.jsLoaded=!0,r()}function r(){for(;void 0!==(i=ysi.datepicker.queue.shift());)s(i[0],i[1])}function s(t,i){if(!t)return;let a=i&&i.mode?i.mode:"true"===t.dataset.range?"range":"single",n=i&&i.months?i.months:t.dataset.months?t.dataset.months:1,o=new Date,r=i&&i.minDate?i.minDate:o,s=!(!i||!i.maxDate)&&i.maxDate,u=s?s.getFullYear()-o.getFullYear():10,c=r?o.getFullYear()-r.getFullYear():0,p=i&&i.defaultDate?i.defaultDate:"";n>1&&d.matches&&(n=1),n>2&&l.matches&&(n=2);let y=!t.hasAttribute("placeholder")||"DD/MM/YYYY"!==t.getAttribute("placeholder")&&"dd/MM/yyyy"!==t.getAttribute("placeholder")&&"d/M/yyyy"!==t.getAttribute("placeholder")&&"yyyy-MM-dd"!==t.getAttribute("placeholder")?"m/d/Y":"d/m/Y";!t.hasAttribute("placeholder")||"dd-MM-yyyy"!=t.getAttribute("placeholder")&&"d-M-yyyy"!=t.getAttribute("placeholder")||(y="d-m-Y"),!t.hasAttribute("placeholder")||"dd.MM.yyyy"!=t.getAttribute("placeholder")&&"d.M.yyyy"!=t.getAttribute("placeholder")||(y="d.m.Y");var h=function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}("gtal_"+ysi.SiteId);let m=flatpickr(t,{mode:a,allowInput:!0,dateFormat:y,showMonths:n,clickOpens:!1,minDate:r,maxDate:s,disableMobile:"true",prevArrow:"",nextArrow:"",locale:h||"default",disableDates:i?i.disabled:void 0,onChange:i?i.onChange:void 0,defaultDate:p,onClose:function(){let e=t.parentNode.querySelector("button");e&&(e.focus(),setTimeout(function(){e.focus()},0))},plugins:[new yearDropdownPlugin({yearStart:c,yearEnd:u}),new accessibilityPlugin,new floatingLabelsPlugin,new positionPlugin],static:!0});e.push(m)}ysi.datepicker.jsLoaded?r():ysi.scrollObserver.isSupported()?ysi.scrollObserver.init(t,{transit:"in",offset:"300px",once:!0,callback:function(){ysi.utils.loadScript(n,o)}}):setTimeout(function(){ysi.utils.loadScript(n,o)},1500)},set:function(t,i,a){if(ysi.datepicker.jsLoaded)for(let n=0;n<e.length;n++)e[n].element===t&&e[n].set(i,a);else for(let e=0;e<ysi.datepicker.queue.length;e++)t===ysi.datepicker.queue[e][0]&&(ysi.datepicker.queue[e][1][i]=a)}}});