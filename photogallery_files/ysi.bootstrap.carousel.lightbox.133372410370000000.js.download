!function(e,t){var l=t();e.ysi=e.ysi||{},e.ysi.bootstrap=e.ysi.bootstrap||{},e.ysi.bootstrap.carousel=e.ysi.bootstrap.carousel||{},e.ysi.bootstrap.carousel.methods.extend("lightbox",l.lightbox)}(this,function(){var e,t=function(t){setTimeout(function(){e.focus()},300)},l=function(t){if(!t)return;(e=document.activeElement).focus(),t.addEventListener("keydown",function(e){9===e.keyCode&&(document.activeElement===a&&e.shiftKey?(e.preventDefault(),n.focus()):document.activeElement!==n||e.shiftKey?"tab"===document.activeElement.getAttribute("role")&&(e.preventDefault(),i(document.activeElement,e.shiftKey?-1:1)):(e.preventDefault(),a.focus()))});var l=t.querySelectorAll('a[href], input:not([disabled]):not([type="hidden"]):not([style*="display:none"]):not([style*="display: none"]),select:not([disabled]), textarea:not([disabled]):not([style*="display:none"]):not([style*="display: none"]), button:not([disabled]):not([hidden]):not([style*="display:none"]):not([style*="display: none"]), [tabindex="0"]:not([hidden]):not([style*="display:none"]):not([style*="display: none"])');l[0].focus();var a=l[0],n=l[l.length-1];let i=function(e,t){for(let a=0;a<l.length;a++)if("tab"===l[a].getAttribute("role")&&l[a].parentNode===e.parentNode){l[(a+t+l.length)%l.length].focus();break}}};return{lightbox:function(e,a){let n=function(a,n){let s=document.getElementById(a);if(!s)return;let r=a+"Lightbox",d=a+"LightboxCarousel",c=document.getElementById(r);c&&(c.parentNode.removeChild(c),c=null);let u=document.getElementById(d),f=s.querySelectorAll(".carousel-item .item");if("tabs"===e.dataset.galleryType){let e=0;for(let t=0;t<n;t++)f[t].offsetParent&&e++;n=e}if(!c){(c=document.createElement("div")).id=r,c.setAttribute("role","dialog"),c.setAttribute("aria-label","Larger version of image"),c.setAttribute("aria-modal","true"),c.className="modal lightbox-modal",c.dataset.toggle="modal",c.innerHTML='<div class="modal-header"><div class="modal-title h5" id="'+r+'Title" data-selenium-id="lightboximagecounter"></div><button type="button" class="close" data-dismiss="modal" aria-label="Close" ><svg width="14px" height="22px" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg></button></div>',(u=document.createElement("div")).id=d,u.className="photogallery carousel slide",u.dataset.ride="carousel",u.dataset.interval=!1,u.dataset.galleryType="lightbox";let a="";"tabs"===e.dataset.galleryType&&(f=[].filter.call(f,function(e){return null!==e.offsetParent}));for(let e=0;e<f.length;e++){let t=f[e].querySelector("a");if(!t)continue;let l=s.querySelector("a[data-index='"+e+"']");null!==l&&(t=l);let i=t.querySelector(".item-caption"),r=i?i.outerHTML:"",d=e===n?"active":"",c=t.querySelector("img"),u=c?c.alt:"";a+='<div class="carousel-item '+d+'"><div class="item"><div class="item-content">'+r+(t.href.indexOf("/q_auto")>0?o(c.src||t.href,e!==n,u):"<img src='"+t.href+"' alt='"+u+"' />")+"</div></div></div>"}f.length>1&&(a='<a class="carousel-control-prev gallery-prev" href="#" role="button" aria-label="Previous Image"><span class="sr-only">Previous</span></a>'+a+'<a class="carousel-control-next gallery-next" href="#" role="button" aria-label="Next Image"><span class="sr-only">Next</span></a>'),u.innerHTML='<div class="carousel-inner" aria-live="assertive">'+a+"</div>",c.appendChild(u),document.body.appendChild(c);let m=c.querySelectorAll(".item-content img");for(let e=0;e<m.length;e++)m[e].onload=function(){this.classList.add("ysi--loaded")};document.getElementById(r+"Title").dataset.size=f.length,u.addEventListener("slid.bs.carousel",function(e){i(r+"Title",u.Carousel.getActiveIndex())});let p=u.querySelector(".carousel-control-prev"),y=u.querySelector(".carousel-control-next");p&&p.addEventListener("click",function(){u.Carousel.slideTo(u.Carousel.getActiveIndex()-1)},!1),y&&y.addEventListener("click",function(){u.Carousel.slideTo(u.Carousel.getActiveIndex()+1)},!1),new Carousel(u),new ysiCarousel(u,{swipe:!0,lazyload:!0}),new Modal(c),c.addEventListener("shown.bs.modal",function(){l(c)}),c.addEventListener("hidden.bs.modal",function(){t(c)})}let m=u.Carousel;m&&m.slideTo(n),i(r+"Title",n),c.Modal.show()},i=function(e,t,l){let a=document.getElementById(e);a&&(a.innerHTML=t+1+" of "+a.dataset.size||l,a.setAttribute("arial-label","Image "+(t+1)+" of "+a.dataset.size))},o=function(e,t,l){const a=t?"data-":"",n=[3200,2560,1920,1440,1200,992,768,576];let i=t?"fadein ysi-lazyload":"fadein",o=window.innerWidth,s="",r="",d="",c="",u=e.substring(e.indexOf("/q_auto"),e.indexOf("/",e.indexOf("/q_auto")+1)),f=(e.indexOf("/q_auto"),e.indexOf("c_crop"));f>0&&(c=e.substring(e.lastIndexOf("/",f),e.indexOf("/",f+1)));let m=c.indexOf("w_")>-1?parseInt(c.substring(c.indexOf("w_")+2)):3200;return n.forEach((t,l)=>{if(l>0&&t<m){let i=Math.min(n[l-1],m),o=e.replace(c,"").replace(u,c+"/q_auto,f_auto,c_limit,w_"+1*i);s+='<source media="(min-width: '+t+'px)" '+a+'srcset="'+o+'">'}}),t?(d="data-src='"+e.replace(c,"").replace(u,c+"/q_auto,f_auto,c_limit,w_"+ysi.utils.getSnappedSize(1*o,100))+"'",r="src='data: image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'"):r="src='"+e.replace(c,"").replace(u,c+"/q_auto,f_auto,c_limit,w_"+ysi.utils.getSnappedSize(1*o,100))+"'","<picture>"+s+"<img "+r+" "+d+" class='"+i+"' alt='"+l+"' /></picture>"},s=e.querySelectorAll(".carousel-item a"),r=e.id;for(let e=0;e<s.length;e++){let t=e;s[e].addEventListener("click",function(e){this.dataset.preventLightbox&&"off"===this.dataset.preventLightbox||(e.preventDefault(),void 0===this.dataset.index?n(r,t):n(r,parseInt(this.dataset.index)))},!1)}e.querySelectorAll(".btn-seeAll").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),this.dataset.preventLightbox&&"off"===this.dataset.preventLightbox||n(r,0)},!1)})}}});