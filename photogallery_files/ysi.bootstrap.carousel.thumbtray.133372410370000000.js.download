!function(t,e){var n=e();t.ysi=t.ysi||{},t.ysi.bootstrap=t.ysi.bootstrap||{},t.ysi.bootstrap.carousel=t.ysi.bootstrap.carousel||{},t.ysi.bootstrap.carousel.methods.extend("thumbtray",n.thumbtray)}(this,function(){return{thumbtray:function(t,e){let n=t.querySelector(".gallery-thumbnails-wrapper"),i=t.querySelector(".gallery-thumbnails");if(!n||!i)return;let o=i.querySelectorAll("li"),r=t.querySelectorAll(".gallery-dots li");if(!r||!o)return;let a,s,l,f=!1,c="",d=0,u=0,h=0,g=0,m=!0,y=!0,p="ontouchstart"in document.documentElement,L=p?"touchstart":"mousedown",v=p?"touchmove":"mousemove",b=p?"touchend":"click";for(let t=0;t<r.length;t++)r[t].addEventListener("click",k.bind(null,t)),r[t].addEventListener("keyup",function(e){13===e.keyCode&&k(t)});function W(t){if(f){f=!1;let e=.6,s=30,l=g,u=g;if(Math.abs(d)>s){let t=0,i=o[0].currentStyle||window.getComputedStyle(o[0]),s=parseFloat(i.marginLeft),f=parseFloat(i.marginRight);if(g=x(),"left"===c){let i=a;for(let e=0;e<o.length;e++){let n=o[e].offsetLeft+g;n>0&&n<i&&(i=n,t=e)}let r=0,c=0;for(let e=t;e<o.length;e++)r+o[e].offsetWidth<=n.offsetWidth?(r+=o[e].offsetWidth+s+f,c=n.offsetWidth-r):e=o.length;e=e*-((l=Math.max(-a,-o[t].offsetLeft-c))-u+d)/o[t].offsetWidth,l-=s}if("right"===c){let n=-a;for(let e=0;e<o.length;e++){let i=o[e].offsetLeft+g;i<0&&i>n&&(n=i,t=e)}e=e*((l=-o[t].offsetLeft)-u+d)/o[t].offsetWidth,l+=f}!function(t){let e=0,i=!1,a=0,s=0;for(let i=0;i<o.length;i++)s+o[i].offsetWidth>n.offsetWidth&&(a=i,i<=t&&(e=i),s=0),s+=o[i].offsetWidth;s=0;for(let e=o.length-1;e>=0&&(t===e&&(i=!0),!(s+o[e].offsetWidth>=n.offsetWidth));e--)s+=o[e].offsetWidth;i&&(e=a),r.forEach(function(t){t.classList.remove("active")}),r[e].classList.add("active")}(t)}else e=Math.abs(d/o[0].offsetWidth);g!==l&&(m=!1),i.style.transition="transform "+e+"s ease-out",i.style.transform="translate3d("+l+"px, 0, 0)",Math.abs(d)>10?(t.stopPropagation(),t.preventDefault()):t.target.click()}}function k(t){let e=M()-n.offsetWidth,a=o[0].currentStyle||window.getComputedStyle(o[0]),s=parseFloat(a.marginLeft),l=-Math.min(e,o[t].offsetLeft)+s;transition_time=1,i.style.transition="transform "+transition_time+"s ease",i.style.transform="translate3d("+l+"px, 0, 0)",r.forEach(function(t){t.classList.remove("active")}),r[t].classList.add("active")}let E=ysi.MQBreakpointListener;function w(t){t.addEventListener("blur",function(t){t.target.setAttribute("tabindex",0)},{once:!0})}function S(t){let e=document.querySelector(t.dataset.target),n=t.dataset.slideTo;e.querySelectorAll(".carousel-item")[n].querySelector("a").click()}function x(){let t=i.style.transform;if(t.indexOf("translate3d")>=0){let e=t.replace("translate3d(","").replace(")","").split(",");return parseInt(e[0])}return!1}function C(t,e){if(t<0||t>=o.length)return;let s=0;for(let e=0;e<r.length;e++)null!==r[e].offsetParent&&e<=t&&(s=e);if(null===r[t=s].offsetParent)return;a=M()-n.offsetWidth;let l=o[0].currentStyle||window.getComputedStyle(o[0]),f=parseFloat(l.marginLeft),c=-Math.min(a,o[t].offsetLeft)+f;void 0===e&&(e=1),i.style.transition="transform "+e+"s ease",i.style.transform="translate3d("+c+"px, 0, 0)",r.forEach(function(t){t.classList.remove("active")}),r[t].classList.add("active")}function M(t){t=t||o.length;let e=0;for(let i=0;i<t;i++){var n=o[i].currentStyle||window.getComputedStyle(o[i]);e+=o[i].offsetWidth+parseFloat(n.marginLeft)+parseFloat(n.marginRight)}return e}E&&E.registerCallback(function(t){for(let t=0;t<o.length;t++)if(o[t].classList.contains("active")){C(t,0);break}},!1),window.addEventListener(v,function(t){!function(t){f&&(d=p?s-t.touches[0].pageX:s-t.pageX,u=p?l-t.touches[0].clientY:l-t.clientY,d>h&&(c="left"),d<h&&(c="right"),h=d,i.style.transform="translate3d("+Math.max(-a,Math.min(0,g-d))+"px, 0, 0)",t.preventDefault(),y=!1)}(t)}),window.addEventListener(b,function(t){W(t)},!0),i.addEventListener(L,function(t){!function(t){m&&!((a=M()-n.offsetWidth)<=0)&&(f=!0,s=p?t.touches[0].pageX:t.pageX,l=p?t.touches[0].clientY:t.clientY,d=u=0,i.style.transition="",t.preventDefault())}(t)}),i.addEventListener("transitionend",function(){f||!1!==(g=x())&&(m=!0)}),i.addEventListener("keydown",function(t){if(m&&"LI"===t.target.tagName){if(37===t.keyCode||39===t.keyCode){let e=37===t.keyCode?-1:1,i=0;for(let e=0;e<o.length;e++)if(o[e]===t.target){i=e;break}let r=(i+e+o.length)%o.length;e>0&&o[r].offsetLeft>g+n.offsetWidth&&C(r,0),e<0&&(o[r].offsetLeft<-g||r===o.length-1)&&C(r,0)}13===t.keyCode&&t.target.classList.contains("active")&&(S(t.target),w(t.target)),9===t.keyCode&&w(t.target)}}),i.addEventListener("dblclick",function(t){t.target.focus(),S(t.target),w(t.target)}),n.addEventListener("focusin",function(t){"LI"===t.target.tagName&&function(t){for(let e=0;e<o.length;e++)t===o[e]?t.setAttribute("tabindex",0):o[e].removeAttribute("tabindex")}(t.target)}),t.addEventListener("slid.bs.carousel",function(t){y&&C(this.Carousel.getActiveIndex())},!1),t.addEventListener("slid.bs.carousel",function(t){y=!0},!1)}}});