ysi.modalCarousel={init:function(e,t){let l=document.getElementById(e);if(l){l.classList.add("modal-dialog-gallery","modal-dialog-centered");let t=l.querySelector(".carousel");null!=t&&(t.style.display="none"),ysi.bootstrap=ysi.bootstrap||{},ysi.bootstrap.carousel=ysi.bootstrap.carousel||{},ysi.bootstrap.carousel.loaded||ysi.modalCarousel.loadJS("/common/js/ysi.bootstrap.carousel.js","bsnCarousel");let o=0,a=setInterval(function(){let s=l.classList.contains("modal-body")?l:l.querySelector(".modal-body");if(s||clearInterval(a),s.offsetWidth>0&&ysi.bootstrap.carousel&&ysi.bootstrap.carousel.loaded){const l=s.closest(".modal-dialog"),o=s.closest(".modal-content"),r=document.getElementById(e).querySelectorAll('.carousel[data-gallery-type="modal"]');if(r.length>0){const e=getComputedStyle(l),t=e.maxHeight&&"none"!==e.maxHeight?e.maxHeight:"calc(100vh - "+e.marginTop+" - "+e.marginBottom+")";o.style.height=t;let a=s.offsetWidth/s.offsetHeight;o.style.height="unset";for(let e=0;e<r.length;e++)new ysiCarousel(r[e],{normalize:{min_ratio:a}})}else{const t=document.getElementById(e).querySelectorAll('.carousel[data-gallery-type="lightbox"]');for(let e=0;e<t.length;e++)new ysiCarousel(t[e],{swipe:!0,lazyload:!0})}t&&(t.style.display=""),clearInterval(a)}else o=0===o?50:2*o},o)}},loadJS:function(e,t){if(!document.getElementById(t)){var l=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.src=e,o.id=t,l.appendChild(o)}}};