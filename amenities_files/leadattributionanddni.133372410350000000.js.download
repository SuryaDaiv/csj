var RCTPCampaign={PId:"",UrlPattern:"",CampaignDetails:{KeyID:"",Phone:"",Email:"",Source:"",CampaignType:"",CampaignID:"",UseMVCDNI:""},lts_setCookie:function(a,n){document.cookie=RCTPCampaign.TrimString(a)+"="+RCTPCampaign.TrimString(escape(n))+"; path=/"},TrimString:function(a){return null==a?a:a.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1")},lts_getCookie:function(a){a=RCTPCampaign.TrimString(a);var n=document.cookie.split(";");for(i=0;i<n.length;i++){var e=n[i].split("="),t=RCTPCampaign.TrimString(e[0]),C=null;if(e.length>1&&(C=unescape(e[1])),t==a)return RCTPCampaign.TrimString(C)}return null},init:function(){var a=RCTPCampaign.lts_getCookie("sReferrerURL"),n=RCTPCampaign.lts_getCookie("sCurrentURL");null!=a&&"undefined"!=a||RCTPCampaign.lts_setCookie("sReferrerURL",encodeURIComponent(document.referrer)),null!=n&&"undefined"!=n||RCTPCampaign.lts_setCookie("sCurrentURL",encodeURIComponent(document.location.href)),RCTPCampaign.DoGetCampaignData()},DoGetCampaignData:function(){var a=document.createElement("a");a.href=document.referrer,document.location.hostname!=a.hostname&&ysi.localstorage.setItem("ldd_"+RCTPCampaign.PId,"");var n=void 0!==ysi.localstorage?ysi.localstorage.getItem("ldd_"+RCTPCampaign.PId):null;if(n&&RCTPCampaign.ReadFromResponseString(n),null==RCTPCampaign.CampaignDetails.KeyID||"undefined"==RCTPCampaign.CampaignDetails.KeyID||0==RCTPCampaign.CampaignDetails.KeyID){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE&&200===e.status){var a=this.responseText;null!=a&&""!=a&&-1==a.indexOf("error")&&(ysi.localstorage.setItem("ldd_"+RCTPCampaign.PId,a,7200),RCTPCampaign.ReadFromResponseString(a))}},e.open("POST",RCTPCampaign.UrlPattern+"/ajaxhandler?handler=LeadAttributionAndDNI"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("RequestVerificationToken",document.getElementById("dni-request-verification-token").value),e.send(new URLSearchParams)}},ReadFromResponseString:function(a){var n=JSON.parse(a);RCTPCampaign.CampaignDetails.Phone=n.Phone,RCTPCampaign.CampaignDetails.Email=n.Email,RCTPCampaign.CampaignDetails.Source=n.Source,RCTPCampaign.CampaignDetails.CampaignType=n.CampaignType,RCTPCampaign.CampaignDetails.CampaignID=n.CampaignID,RCTPCampaign.CampaignDetails.KeyID=n.KeyID},getDNINumberData:function(){return new Promise(function(a,n){var e,i=120;function t(){clearTimeout(e);const n=RCTPCampaign.CampaignDetails.CampaignID;n<=0&&console.log("Campaign not found!"),a(n)}e=setInterval(function(){0==RCTPCampaign.CampaignDetails.CampaignID&&0==RCTPCampaign.CampaignDetails.KeyID||t(),i<=0&&t(),i-=1},500)})},DoExecuteAfterCampaignLoad:async function(callbackfunction){let number;return number=await RCTPCampaign.getDNINumberData(),"function"==typeof callbackfunction?callbackfunction():eval(callbackfunction),number},AppendCrossDomainParamsInURL:function(a){if(void 0===a||null==a||"null"==a)return"";if(a.replace(" ","").indexOf("javascript:")>=0||a.replace(" ","").indexOf("void(")>=0)return a;var n=a.indexOf("?"),e=a,t="",C="";n>-1&&(e=a.slice(0,n),t=a.slice(n)),""==t?t=e:C=e;var m=t.split("&");for(i=0;i<m.length;i++)0==(m[i].indexOf("RCDynamicCampaignId_"+RCTPCampaign.CampaignDetails.KeyID)>=0||m[i].indexOf("RCStandardCampaignId_"+RCTPCampaign.CampaignDetails.KeyID)>=0)&&(i>0&&(C+="&"),C+=m[i]);return-1==C.indexOf("?")?C+="?":C+="&",RCTPCampaign.CampaignDetails.CampaignID>0&&(C="CustomCampaign"==RCTPCampaign.CampaignDetails.CampaignType?C+"RCDynamicCampaignId_"+RCTPCampaign.CampaignDetails.KeyID+"="+RCTPCampaign.CampaignDetails.CampaignID:C+"RCStandardCampaignId_"+RCTPCampaign.CampaignDetails.KeyID+"="+RCTPCampaign.CampaignDetails.CampaignID),C}};