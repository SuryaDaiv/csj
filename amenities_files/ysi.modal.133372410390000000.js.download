function opendialog(e,t,n,o){const i=document.getElementById(e);var a=i.closest(".modal");a&&a.classList.contains("lightbox-modal")&&a.parentNode!==document.body&&document.body.appendChild(a),t?i.dataset.source!==t||0===i.innerHTML.trim()?(i.innerHTML="",req=new XMLHttpRequest,req.onreadystatechange=function(){if(4===req.readyState&&200===req.status){i.innerHTML=req.responseText;var a=i.querySelector(".page-content-contact-us");a&&(i.innerHTML="",i.appendChild(a));var s=i.querySelector("#scheduletour-request-verification-token");if(s){var r=i.querySelector("#schedule-tour-container"),c=i.querySelector("#schedule-tour-data");i.innerHTML="",i.appendChild(s),r&&i.appendChild(r),c&&i.appendChild(c),ysi.contact&&document.getElementById("scheduletour-myContactForm")&&ysi.contact.init(document.getElementById("scheduletour-myContactForm"))}n&&n(e,t),setTimeout(function(){ysi.floatingLabels&&ysi.floatingLabels.init(i),ysi.modal.trapTabs(i,o),ysi.tooltips&&ysi.tooltips.additionalEvents(i),ysi.multitoggle&&ysi.multitoggle.init(i)},0)}},req.open("GET",t,!0),req.send(null),i.dataset.source=t):ysi.modal.trapTabs(i,o):(n&&n(e,t),setTimeout(function(){ysi.floatingLabels&&ysi.floatingLabels.init(i),ysi.modal.trapTabs(i,o),ysi.datepicker&&ysi.datepicker.init(document.querySelector("input[data-international='NotificationInternational']"))},0))}ysi.modal={trapTabs:function(e,t){if(e){var n=t||document.activeElement,o=e.closest(".modal")||e.closest(".popup-widgets-window"),i=e.closest(".modal-content")||e.closest(".popup-widgets-window");o.classList.contains("popup-widgets-window")||o.classList.contains("show")?ysi.modal.setTrap(i):o.addEventListener("shown.bs.modal",function(){ysi.modal.setTrap(i)});var a=!1;n===document.body&&o.addEventListener("keydown",function(e){9===e.keyCode&&(a=!0)}),o.addEventListener("hidden.bs.modal",function(){var e=document.getElementById("skip-nav");n===document.body&&e?(e.focus(),a||e.blur()):n.focus()})}},setTrap:function(e){function t(e){if((!e.tabIndex||e.tabIndex>=0)&&e.offsetHeight>0){if("A"===e.nodeName||"IFRAME"===e.nodeName)return!0;let t=window.getComputedStyle(e);return!(e.disabled||"hidden"===e.type||"none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))}return!1}var n=e.querySelectorAll('a[href], input, select, textarea, button, [tabindex="0"], iframe, [role="tab"]');let o=!1;for(let e=0;e<n.length;e++)if("tab"===n[e].getAttribute("role")&&n[e].classList.contains("active")&&!n[e].parentNode.classList.contains("carousel-indicators")){o=!0,n[e].focus();break}var i=e&&e.classList.contains("propertydescriptionmodalcontent");if(!o)for(let e=0;e<n.length;e++)if(t(n[e])&&("BUTTON"!==n[e].nodeName||!n[e].classList.contains("close")||i)){n[e].focus();break}function a(){if(1==n.length&&(n[0].closest(".modal-content")&&n[0].closest(".modal-content").classList.contains("propertydescriptionmodalcontent")))return n[0];for(let e=0;e<n.length;e++)if(t(n[e])){if("radio"===n[e].type){let o=n[e].name,i=document.querySelector('input[name = "'+o+'"]:checked');if(i&&t(i))return i}return n[e]}}function s(){if(1==n.length&&(n[0].closest(".modal-content")&&n[0].closest(".modal-content").classList.contains("propertydescriptionmodalcontent")))return n[0];for(let o=n.length-1;o>0;o--)if(t(n[o])){if("radio"===n[o].type){let i=n[o].name,a=document.querySelector('input[name = "'+i+'"]:checked');if(a&&t(a))return a;var e=document.querySelector('input[name="'+i+'"]');if(e&&t(e))return e}return n[o]}}var r=!1;function c(){let e=a(),t=s();"IFRAME"===t.nodeName&&(document.activeElement===t?r=!0:r&&(e.focus(),r=!1),window.setTimeout(c,100))}function d(e){if(9===e.keyCode){let t=a(),n=s(),o=document.activeElement;o===n&&c(),(o===t||l(o,t))&&e.shiftKey?(e.preventDefault(),n.focus()):o!==n&&!l(o,n)||e.shiftKey||(e.preventDefault(),t.focus())}}function l(e,t){return"radio"===e.type&&"radio"===t.type&&e.name&&e.name===t.name}document.activeElement===s()&&c(),e.removeEventListener("keydown",d),e.addEventListener("keydown",d)}};